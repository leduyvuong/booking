<div class="bg-white shadow rounded-xl p-6 space-y-4">
  <h1 class="text-2xl font-semibold text-slate-800">Appointment <%= @appointment.booking_number %></h1>
  <p class="text-slate-600">Doctor: <%= @appointment.time_slot.doctor.name %></p>
  <p class="text-slate-600">Clinic: <%= @appointment.time_slot.doctor.clinic.name %></p>
  <p class="text-slate-600">Date: <%= @appointment.time_slot.date.strftime('%A, %B %e') %> at <%= @appointment.time_slot.start_time.strftime('%H:%M') %></p>
  <p class="text-slate-600">Patient: <%= @appointment.patient_name %> (<%= @appointment.patient_email %>)</p>
  <p class="text-slate-600">Status: <span class="font-medium"><%= @appointment.status.humanize %></span></p>
  <% if @appointment.notes.present? %>
    <p class="text-slate-600">Notes: <%= @appointment.notes %></p>
  <% end %>

  <% if current_user.admin_role? %>
    <div class="border-t border-slate-200 pt-4">
      <h2 class="text-lg font-semibold text-slate-800 mb-2">Update status</h2>
      <%= form_with model: @appointment, url: appointment_path(@appointment), method: :patch, class: "space-y-3" do |form| %>
        <div>
          <%= form.label :status, class: "block text-sm font-medium text-slate-700" %>
          <%= form.select :status, Appointment.statuses.keys.map { |status| [status.humanize, status] }, {}, class: "mt-1 block w-full rounded-md border-slate-300" %>
        </div>
        <div>
          <%= form.label :notes, class: "block text-sm font-medium text-slate-700" %>
          <%= form.text_area :notes, rows: 3, class: "mt-1 block w-full rounded-md border-slate-300" %>
        </div>
        <%= form.submit "Save", class: "inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition" %>
      <% end %>
    </div>
  <% end %>
</div>
