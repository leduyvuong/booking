<% stream_name = TimeSlot.stream_name_for(doctor_id: doctor.id, date: date || Date.current) %>
<%= turbo_stream_from stream_name %>

<div class="space-y-4">
  <% if time_slots.any? %>
    <% time_slots.each do |time_slot| %>
      <%= render "time_slots/slot", time_slot: time_slot, just_booked: false %>
    <% end %>
  <% else %>
    <div class="rounded-xl border border-dashed border-slate-300 bg-white p-6 text-center">
      <p class="text-sm font-medium text-slate-600">No availability on <%= (date || Date.current).strftime('%A, %B %-d') %>.</p>
      <p class="mt-1 text-sm text-slate-500">Try selecting another day to see more openings.</p>
    </div>
  <% end %>
</div>
